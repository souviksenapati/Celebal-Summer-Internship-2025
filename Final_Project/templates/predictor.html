<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Score Predictor</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/predictor.css" />
</head>
<body>

<div class="container">
    <h1>üéØ Student Score Predictor</h1>
    <form action="/predict" method="post">

        <div class="form-grid">
            <!-- üîÄ Model Selection inside grid -->
            <div class="form-group">
                <label>Select Model:</label>
                <select name="model_choice" required>
                    <option value="lgbm">LightGBM</option>
                    <option value="xgb">XGBoost</option>
                </select>
            </div>

            <div class="form-group">
                <label>Gender:</label>
                <select name="Gender" required>
                    <option value="">Select Gender</option>
                    <option value="1">Male</option>
                    <option value="0">Female</option>
                </select>
            </div>

            <div class="form-group">
                <label>Hours Studied:</label>
                <input type="number" name="Hours_Studied" min="0" max="24" step="0.1" required>
            </div>

            <div class="form-group">
                <label>Previous Exam Score:</label>
                <input type="number" name="Previous_Score" min="0" max="100" step="0.1" required>
            </div>

            <div class="form-group">
                <label>Attendance (%):</label>
                <input type="number" name="Attendance" min="0" max="100" step="0.1" required>
            </div>

            <div class="form-group">
                <label>Extra Curricular Hours:</label>
                <input type="number" name="Extra" min="0" max="20" step="0.1" required>
            </div>

            <div class="form-group">
                <label>Sleep Hours:</label>
                <input type="number" name="Sleep" min="0" max="24" step="0.1" required>
            </div>

            <div class="form-group">
                <label>Health Issues:</label>
                <select name="Health" required>
                    <option value="">Select</option>
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>
        </div>

        <p id="hour-status">‚ö†Ô∏è Total time exceeds 24 hours! Please adjust.</p>
        <button class="submit-btn" type="submit">üöÄ Predict Score</button>
    </form>

    <footer>¬© 2025 Celebal Internship Project | Student Performance Predictor</footer>
</div>

<script>
    const studyInput = document.querySelector('input[name="Hours_Studied"]');
    const extraInput = document.querySelector('input[name="Extra"]');
    const sleepInput = document.querySelector('input[name="Sleep"]');
    const hourStatus = document.getElementById('hour-status');

    const updateHourLimits = () => {
        const study = parseFloat(studyInput.value) || 0;
        const extra = parseFloat(extraInput.value) || 0;
        const sleep = parseFloat(sleepInput.value) || 0;
        const total = study + extra + sleep;

        studyInput.max = (24 - extra - sleep).toFixed(1);
        extraInput.max = (24 - study - sleep).toFixed(1);
        sleepInput.max = (24 - study - extra).toFixed(1);

        if (total > 24) {
            hourStatus.style.display = 'block';
        } else {
            hourStatus.style.display = 'none';
        }
    };

    [studyInput, extraInput, sleepInput].forEach(input =>
        input.addEventListener('input', updateHourLimits)
    );
</script>

</body>
</html>
